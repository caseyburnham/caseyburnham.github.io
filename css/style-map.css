/* Light Color Scheme */
@media (prefers-color-scheme: light) {
	.leaflet-container .leaflet-control-attribution {
		box-shadow: none;
		z-index: 2;
	}

	.custom-popup .leaflet-popup-content-wrapper {
		backdrop-filter: var(--modal-caption-blur);
		background: var(--bg-color-tooltip);
		box-shadow: var(--shadow-subtle);
	}

	.custom-popup .leaflet-popup-tip {
		display: none;
	}

	.map-marker {
		backdrop-filter: var(--modal-caption-blur);
		background: var(--accent-color-light);
		border: 1.5px solid white;
		border-radius: 50%;
		box-shadow: var(--shadow-map-icon);
	}
}

/* Dark Color Scheme */
@media (prefers-color-scheme: dark) {
	.leaflet-layer,
	.leaflet-control-zoom-in,
	.leaflet-control-zoom-out {
		filter: invert(100%) hue-rotate(180deg) brightness(95%) contrast(90%);
	}

	.leaflet-container .leaflet-control-attribution {
		background: var(--bg-color-alpha);
		box-shadow: none;
	}

	.custom-popup .leaflet-popup-content-wrapper {
		backdrop-filter: var(--modal-caption-blur);
		background: var(--bg-color-tooltip);
		box-shadow: var(--shadow-modal);
	}

	.custom-popup .leaflet-popup-tip {
		display: none;
	}
	
	.map-marker {
		backdrop-filter: var(--modal-caption-blur);
		background: var(--a-color);
		border: 1.5px solid white;
		border-radius: 50%;
		box-shadow: var(--shadow-map-icon);
	}
}

/* CSS Styles */
#map {
	height: 15rem;
	border: 1px solid var(--border-color);
	width: 100%;
	z-index: 1;
}

#map:focus {
	outline: none;
}

.leaflet-container .leaflet-control-attribution {
	border-radius: var(--border-radius-sm);
	font-family: var(--font-family-ui);
	font-size: var(--font-size-xs);
}

.popup-content {
	font-family: var(--font-family-ui);
	text-align: center;
}

.popup-title {
	font-size: var(--font-size-base);
	font-weight: var(--font-weight-heavy);
	margin-bottom: var(--space-xs);
}

.popup-details {
	color: var(--text-color-muted);
	font-size: var(--font-size-sm);
}

.popup-date,
.popup-elevation {
	margin: var(--space-xs) 0;
}

.error {
	align-items: center;
	background: #f8f9fa;
	border: 1px solid #dee2e6;
	border-radius: 8px;
	display: flex;
	height: 100%;
	justify-content: center;
	padding: 20px;
	text-align: center;
}